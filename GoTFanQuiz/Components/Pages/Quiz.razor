@page "/quiz"

<PageTitle>Quiz</PageTitle>

@code {
    public List<Characters> ?answer;
    // Uri urlCharacter = new Uri("https://api.gameofthronesquotes.xyz/v1/characters");
    public HttpClient httpClient = new HttpClient();
    protected override async Task OnInitializedAsync() {
        answer = await GetCharactersAsync("https://api.gameofthronesquotes.xyz/v1/characters");
        Console.Write(answer[0].name);
    }
    public async Task<List<Characters>> GetCharactersAsync(string url)
    {
        var response = await httpClient.GetStringAsync(url);
        return JsonSerializer.Deserialize<List<Characters>>(response, new JsonSerializerOptions { PropertyNameCaseInsensitive = true });
    }

    public class Characters {
        public string name {set; get;}
        public string slug {set; get;}
        public House house {set; get;}
        public List<string> quotes {set; get;}
    }
    
    public class House {
        public string slug {set; get;}
        public string name {set; get;}
    }
}